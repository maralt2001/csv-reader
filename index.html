<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSV Reader</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header>
  <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#22d3ee" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
    <polyline points="14 2 14 8 20 8"/>
    <line x1="8" y1="13" x2="16" y2="13"/>
    <line x1="8" y1="17" x2="16" y2="17"/>
    <polyline points="10 9 9 9 8 9"/>
  </svg>
  <div>
    <h1>CSV Reader</h1>
    <p class="subtitle">CSV-Dateien lokal anzeigen â€” JSON-Werte in Zellen werden automatisch erkannt</p>
  </div>
</header>

<main>

  <!-- Drop Zone -->
  <div id="drop-zone">
    <span class="drop-icon">ðŸ“‚</span>
    <h2>CSV-Datei hierher ziehen</h2>
    <p>oder <span class="browse-link" id="browse-btn">Datei auswÃ¤hlen</span></p>
    <p class="hint">UnterstÃ¼tzt RFC 4180 CSV Â· JSON-Objekte und Arrays in Zellen werden erkannt</p>
  </div>
  <input type="file" id="file-input" accept=".csv,.txt">

  <!-- File Info -->
  <div id="file-info">
    <span>ðŸ“„ <strong id="info-name">â€”</strong></span>
    <span class="sep">|</span>
    <span><strong id="info-rows">0</strong> Zeilen</span>
    <span class="sep">|</span>
    <span><strong id="info-cols">0</strong> Spalten</span>
    <span class="sep">|</span>
    <span id="info-delim"></span>
  </div>

  <!-- Toolbar -->
  <div id="toolbar">
    <div class="search-wrap">
      <svg class="search-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/>
      </svg>
      <label for="search-input" class="sr-only">Suche</label>
      <input type="text" id="search-input" placeholder="In allen Spalten suchen â€¦">
      <label class="regex-toggle" id="regex-label" title="RegulÃ¤re AusdrÃ¼cke aktivieren">
        <input type="checkbox" id="regex-checkbox">
        <span>.*</span>
      </label>
    </div>
    <button class="styled-btn styled-btn-gray" id="toggle-cols-btn">
      <span class="styled-btn-inner">
        <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="18" rx="1"/><rect x="14" y="3" width="7" height="18" rx="1"/></svg>
        Spalten
      </span>
    </button>
    <div class="export-wrap">
      <button class="styled-btn styled-btn-primary" id="export-btn">
        <span class="styled-btn-inner">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
          Export
        </span>
      </button>
      <div class="export-menu" id="export-menu">
        <button id="export-csv">ðŸ“„ Als CSV exportieren</button>
        <button id="export-json">{ } Als JSON exportieren</button>
      </div>
    </div>
    <button class="styled-btn styled-btn-red" id="clear-btn">
      <span class="styled-btn-inner">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        SchlieÃŸen
      </span>
    </button>
  </div>

  <!-- Column Toggle Panel -->
  <div id="col-panel">
    <h3>Spalten ein-/ausblenden</h3>
    <div class="col-toggles" id="col-toggles"></div>
  </div>

  <!-- Table -->
  <div id="table-wrap">
    <table id="data-table">
      <thead id="table-head"></thead>
      <tbody id="table-body"></tbody>
    </table>
  </div>

  <!-- Status Bar -->
  <div id="status-bar">
    <span id="status-left"></span>
    <span id="status-right"></span>
  </div>

</main>

<!-- JSON Modal -->
<div id="json-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
  <div id="json-modal-box">
    <div id="json-modal-header">
      <span id="modal-title">JSON</span>
      <button id="modal-close" title="SchlieÃŸen">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
          <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
    </div>
    <pre id="modal-content"></pre>
  </div>
</div>

<script src="js/app.js"></script>
</body>
</html>
